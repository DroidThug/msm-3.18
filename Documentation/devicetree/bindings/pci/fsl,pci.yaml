%YAML 1.2
---
version: 1

id: fsl,pci

title: Bus Enumeration by Freescale PCI-X Agent

maintainer:
    -   name: Aaron Sierra <asierra@xes-inc.com>

description: >
    TODO

inherits:
    -   id: %ids%

properties:
    -   name: "compatible"
        constraint: |
            "fsl,mpc8540-pcix" && "fsl,mpc8540-pci"
            "fsl,mpc8540-pci"

    #address-cells:
    bus-range:
    clock-frequency:
    device_type:
    #interrupt-cells:
    interrupt-map:
    interrupt-map-mask:
    interrupt-parent:
    interrupts:
    ranges:
    reg:
    #size-cells:
    sleep:
    status:

...

# * Bus Enumeration by Freescale PCI-X Agent
#
# Typically any Freescale PCI-X bridge hardware strapped into Agent mode
# is prevented from enumerating the bus. The PrPMC form-factor requires
# all mezzanines to be PCI-X Agents, but one per system may still
# enumerate the bus.
#
# The property defined below will allow a PCI-X bridge to be used for bus
# enumeration despite being strapped into Agent mode.
#
# Required properties:
# - fsl,pci-agent-force-enum : There is no value associated with this
#   property. The property itself is treated as a boolean.
#
# Example:
#
# 	/* PCI-X bridge known to be PrPMC Monarch */
# 	pci0: pci@ef008000 {
# 		fsl,pci-agent-force-enum;
# 		#interrupt-cells = <1>;
# 		#size-cells = <2>;
# 		#address-cells = <3>;
# 		compatible = "fsl,mpc8540-pcix", "fsl,mpc8540-pci";
# 		device_type = "pci";
# 		...
# 		...
# 	};
