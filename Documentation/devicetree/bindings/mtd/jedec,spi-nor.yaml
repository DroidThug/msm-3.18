%YAML 1.2
---
version: 1

id: jedec,spi-nor

title: MTD SPI driver for ST M25Pxx (and similar) serial flash chips

maintainer:
    -   name: Brian Norris <computersforpeace@gmail.com>

description: >
    TODO

inherits:
    -   id: %ids%

properties:
    -   name: "compatible"
        constraint: |
            "w25q32" && "jedec,spi-nor"
            "st,m25p40" && "jedec,spi-nor"
            "st,m25p16" && "jedec,spi-nor"
            "st,m25p128" && "jedec,spi-nor"
            "spansion,s25fl512s" && "jedec,spi-nor"
            "spansion,s25fl008k" && "jedec,spi-nor"
            "spansion,m25p80"
            "n25q128a13" && "jedec,spi-nor"
            "mxicy,mx25l4005a" && "jedec,spi-nor"
            "mxicy,mx25l1606e" && "jedec,spi-nor"
            "mxicy,mx25l12805d" && "jedec,spi-nor"
            "mx25l25635e" && "jedec,spi-nor"
            "micron,n25q064" && "jedec,spi-nor"
            "m25p64" && "jedec,spi-nor"
            "m25p40" && "jedec,spi-nor"
            "m25p128" && "jedec,spi-nor"

    #address-cells:
    mode:
    reg:
    #size-cells:
    spi-max-frequency:

...

# * MTD SPI driver for ST M25Pxx (and similar) serial flash chips
#
# Required properties:
# - #address-cells, #size-cells : Must be present if the device has sub-nodes
#   representing partitions.
# - compatible : May include a device-specific string consisting of the
#                manufacturer and name of the chip. Bear in mind the DT binding
#                is not Linux-only, but in case of Linux, see the "m25p_ids"
#                table in drivers/mtd/devices/m25p80.c for the list of supported
#                chips.
#                Must also include "jedec,spi-nor" for any SPI NOR flash that can
#                be identified by the JEDEC READ ID opcode (0x9F).
# - reg : Chip-Select number
# - spi-max-frequency : Maximum frequency of the SPI bus the chip can operate at
#
# Optional properties:
# - m25p,fast-read : Use the "fast read" opcode to read data from the chip instead
#                    of the usual "read" opcode. This opcode is not supported by
#                    all chips and support for it can not be detected at runtime.
#                    Refer to your chips' datasheet to check if this is supported
#                    by your chip.
#
# Example:
#
# 	flash: m25p80@0 {
# 		#address-cells = <1>;
# 		#size-cells = <1>;
# 		compatible = "spansion,m25p80", "jedec,spi-nor";
# 		reg = <0>;
# 		spi-max-frequency = <40000000>;
# 		m25p,fast-read;
# 	};
