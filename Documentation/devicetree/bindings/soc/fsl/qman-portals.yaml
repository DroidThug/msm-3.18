%YAML 1.2
---
version: 1

id: qman-portals

title: QorIQ DPAA Queue Manager Portals Device Tree Binding

maintainer:
    -   name: Emil Medve <Emilian.Medve@freescale.com>

description: >
    TODO

inherits:
    -   id: %ids%

properties:
    -   name: "compatible"
        constraint: |
            "xlnx,plb-v46-1"."03"."a" && "xlnx,plb-v46-1"."00"."a" && "simple-bus"
            "xlnx,plb-v46-1"."03"."a" && "simple-bus"
            "ti,dm814-scm" && "simple-bus"
            "ti,dm814-pllss" && "simple-bus"
            "ti,dm814-l4ls" && "simple-bus"
            "ti,dm814-l4hs" && "simple-bus"
            "ti,c64x"+"emifa" && "simple-bus"
            "st,stih418-clk" && "simple-bus"
            "st,stih410-clk" && "simple-bus"
            "sirf,prima2-rtciobg" && "sirf-prima2-rtciobg-bus" && "simple-bus"
            "sirf,prima2-pciiobg" && "simple-bus"
            "simple-bus"
            "samsung,s5pv210-audss" && "simple-bus"
            "mrvl,axi-bus" && "simple-bus"
            "mrvl,apb-bus" && "simple-bus"
            "marvell,dove-pmu" && "simple-bus"
            "hawk-bridge" && "simple-bus"
            "fsl,spba-bus" && "simple-bus"
            "fsl,p1021-immr" && "simple-bus"
            "fsl,mpc885-localbus" && "fsl,pq1-localbus" && "simple-bus"
            "fsl,mpc875-immr" && "fsl,pq1-soc" && "simple-bus"
            "fsl,mpc8641-soc" && "simple-bus"
            "fsl,mpc8641-localbus" && "simple-bus"
            "fsl,mpc8610-immr" && "simple-bus"
            "fsl,mpc8610-elbc" && "fsl,elbc" && "simple-bus"
            "fsl,mpc8572-immr" && "simple-bus"
            "fsl,mpc8572-elbc" && "fsl,elbc" && "simple-bus"
            "fsl,mpc8560-localbus" && "simple-bus"
            "fsl,mpc8560-localbus" && "fsl,pq3-localbus" && "simple-bus"
            "fsl,mpc8560-immr" && "simple-bus"
            "fsl,mpc8555-immr" && "simple-bus"
            "fsl,mpc8548-localbus" && "fsl,pq3-localbus" && "simple-bus"
            "fsl,mpc8548-immr" && "simple-bus"
            "fsl,mpc8544-localbus" && "fsl,pq3-localbus" && "simple-bus"
            "fsl,mpc8544-immr" && "simple-bus"
            "fsl,mpc8541-immr" && "simple-bus"
            "fsl,mpc8540-localbus" && "fsl,pq3-localbus" && "simple-bus"
            "fsl,mpc8540-immr" && "simple-bus"
            "fsl,mpc8379-elbc" && "fsl,elbc" && "simple-bus"
            "fsl,mpc8378-elbc" && "fsl,elbc" && "simple-bus"
            "fsl,mpc8377-elbc" && "fsl,elbc" && "simple-bus"
            "fsl,mpc8360-localbus" && "fsl,pq2pro-localbus" && "simple-bus"
            "fsl,mpc8360-immr" && "simple-bus"
            "fsl,mpc8360-immr" && "fsl,immr" && "fsl,soc" && "simple-bus"
            "fsl,mpc8349-localbus" && "simple-bus"
            "fsl,mpc8349e-localbus" && "fsl,pq2pro-localbus" && "simple-bus"
            "fsl,mpc8347e-localbus" && "fsl,pq2pro-localbus" && "simple-bus"
            "fsl,mpc8315-immr" && "simple-bus"
            "fsl,mpc8315-elbc" && "fsl,elbc" && "simple-bus"
            "fsl,mpc8313-elbc" && "fsl,elbc" && "simple-bus"
            "fsl,mpc8308-immr" && "simple-bus"
            "fsl,mpc8248-immr" && "fsl,pq2-soc" && "simple-bus"
            "fsl,mpc8247-immr" && "fsl,pq2-soc" && "simple-bus"
            "fsl,mpc5200-lpb" && "simple-bus"
            "fsl,mpc5200b-lpb" && "simple-bus"
            "fsl,mpc5200b-lpb" && "fsl,mpc5200-lpb" && "simple-bus"
            "fsl,emi" && "simple-bus"
            "fsl,emi-bus" && "simple-bus"
            "fsl,eim-bus" && "simple-bus"
            "fsl,aips" && "simple-bus"
            "fsl,aips-bus" && "simple-bus"
            "fsl,aipi-bus" && "simple-bus"
            "arteris," && "flexnoc" && "simple-bus"
            "arm,vexpress,v2m-p1" && "simple-bus"
            "arm,versatile-fpga" && "simple-bus"
            "arm,amba-bus" && "simple-bus"
            "altr,avalon" && "simple-bus"
            "abilis,tb10x" && "simple-bus"

    #address-cells:
    bus-frequency:
    device_type:
    ranges:
    #size-cells:

...

# QorIQ DPAA Queue Manager Portals Device Tree Binding
#
# Copyright (C) 2008 - 2014 Freescale Semiconductor Inc.
#
# CONTENTS
#
# 	- QMan Portal
# 	- QMan Pool Channel
# 	- Example
#
# QMan Portal Node
#
# Portals are memory mapped interfaces to QMan that allow low-latency, lock-less
# interaction by software running on processor cores, accelerators and network
# interfaces with the QMan
#
# PROPERTIES
#
# - compatible
# 	Usage:		Required
# 	Value type:	<stringlist>
# 	Definition:	Must include "fsl,qman-portal-<hardware revision>"
# 			May include "fsl,<SoC>-qman-portal" or "fsl,qman-portal"
#
# - reg
# 	Usage:		Required
# 	Value type:	<prop-encoded-array>
# 	Definition:	Two regions. The first is the cache-enabled region of
# 			the portal. The second is the cache-inhibited region of
# 			the portal
#
# - interrupts
# 	Usage:		Required
# 	Value type:	<prop-encoded-array>
# 	Definition:	Standard property
#
# - fsl,liodn
# 	Usage:		See pamu.txt
# 	Value type:	<prop-encoded-array>
# 	Definition:	Two LIODN(s). DQRR LIODN (DLIODN) and Frame LIODN
# 			(FLIODN)
#
# - fsl,iommu-parent
# 	Usage:		See pamu.txt
# 	Value type:	<phandle>
# 	Definition:	PAMU property used for dynamic LIODN assignment
#
# 	For additional details about the PAMU/LIODN binding(s) see pamu.txt
#
# - cell-index
# 	Usage:		Required
# 	Value type:	<u32>
# 	Definition:	The hardware index of the channel. This can also be
# 			determined by dividing any of the channel's 8 work queue
# 			IDs by 8
#
# In addition to these properties the qman-portals should have sub-nodes to
# represent the HW devices/portals that are connected to the software portal
# described here
#
# The currently supported sub-nodes are:
# 	* fman0
# 	* fman1
# 	* pme
# 	* crypto
#
# These subnodes should have the following properties:
#
# - fsl,liodn
# 	Usage:		See pamu.txt
# 	Value type:	<prop-encoded-array>
# 	Definition:	PAMU property used for static LIODN assignment
#
# - fsl,iommu-parent
# 	Usage:		See pamu.txt
# 	Value type:	<phandle>
# 	Definition:	PAMU property used for dynamic LIODN assignment
#
# - dev-handle
# 	Usage:		Required
# 	Value type:	<phandle>
# 	Definition:	The phandle to the particular hardware device that this
# 			portal is connected to.
#
# DPAA QMan Pool Channel Nodes
#
# Pool Channels are defined with the following properties.
#
# PROPERTIES
#
# - compatible
# 	Usage:		Required
# 	Value type:	<stringlist>
# 	Definition:	Must include "fsl,qman-pool-channel"
# 			May include "fsl,<SoC>-qman-pool-channel"
#
# - fsl,qman-channel-id
# 	Usage:		Required
# 	Value type:	<u32>
# 	Definition:	The hardware index of the channel. This can also be
# 			determined by dividing any of the channel's 8 work queue
# 			IDs by 8
#
# EXAMPLE
#
# The example below shows a (P4080) QMan portals container/bus node with two portals
#
# 	qman-portals@ff4200000 {
# 		#address-cells = <1>;
# 		#size-cells = <1>;
# 		compatible = "simple-bus";
# 		ranges = <0 0xf 0xf4200000 0x200000>;
#
# 		qman-portal@0 {
# 			compatible = "fsl,qman-portal-1.2.0", "fsl,qman-portal";
# 			reg = <0 0x4000>, <0x100000 0x1000>;
# 			interrupts = <104 2 0 0>;
# 			fsl,liodn = <1 2>;
# 			fsl,qman-channel-id = <0>;
#
# 			fman0 {
# 				fsl,liodn = <0x21>;
# 				dev-handle = <&fman0>;
# 			};
# 			fman1 {
# 				fsl,liodn = <0xa1>;
# 				dev-handle = <&fman1>;
# 			};
# 			crypto {
# 				fsl,liodn = <0x41 0x66>;
# 				dev-handle = <&crypto>;
# 			};
# 		};
# 		qman-portal@4000 {
# 			compatible = "fsl,qman-portal-1.2.0", "fsl,qman-portal";
# 			reg = <0x4000 0x4000>, <0x101000 0x1000>;
# 			interrupts = <106 2 0 0>;
# 			fsl,liodn = <3 4>;
# 			cell-index = <1>;
#
# 			fman0 {
# 				fsl,liodn = <0x22>;
# 				dev-handle = <&fman0>;
# 			};
# 			fman1 {
# 				fsl,liodn = <0xa2>;
# 				dev-handle = <&fman1>;
# 			};
# 			crypto {
# 				fsl,liodn = <0x42 0x67>;
# 				dev-handle = <&crypto>;
# 			};
# 		};
# 	};
